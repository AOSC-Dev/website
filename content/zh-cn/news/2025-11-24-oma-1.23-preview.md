---
categories:
  - advisories
title: "小熊猫包管理 (oma) v1.23 测试公告"
date: 2025-11-24T09:30:00+08:00
important: true
home: true
---

![oma-1.23](/assets/news/oma-1.23.webp)
> 小熊猫的小小更新能有什么恶意呢

oma 1.23 主要针对现有功能，尤其是镜像管理和鉴权管理功能进行了小幅度优化和修缮，并修复了几个已知问题——小小的更新，美美的体验。

让我们来一起详细了解本版 oma 的新特性和修复吧～

测试指南
---

安同 OS 可通过如下命令获取 oma 1.23 测试版更新：

```bash 
oma topics --opt-in oma-preview
``` 

Debian、Ubuntu 及衍生版，Linux Mint、deepin 及 openKylin 用户可通过如下命令获取 oma（目前暂未区分测试源及稳定源，可直接获取 1.23 版更新）：

```bash 
curl -sSf https://repo.aosc.io/get-oma.sh | sudo sh
``` 

如果您在测试 oma 的过程中遇到问题或有任何建议，欢迎您来我社[各聊天群组](https://aosc.io/contact)与我们联系反馈。

你这镜像保鲜吗？镜像延迟测试工具
---

作为安同 OS 系统集成的一部分，先前的 oma 版本包含镜像源选择和测试功能，但部分用户朋友（尤其是 Mesa 和内核更新爱好者们）总是不知道更新什么时候能到达他们选用的镜像源。

为帮助大家选用更新及时且下载速度较好的镜像，我们在 oma 1.23 引入了 `oma mirror latency` 命令，可一站式地测试所有镜像源相对于社区官方源的延迟：

![](/assets/news/oma-1.23-latency.webp)

是不是很方便？快试试看吧～

人人“有权限”：提权功能增强
---

在调查一处使用 polkit 鉴权导致的故障，我们~~在急病乱投医之时~~发现了两处改进点：

- 使用 `systemd-run` 替代 `pkexec` 作为默认鉴权工具，可允许用户在桌面、SSH 和 TTY 下均能使用同样的方式提权，亦能确保 oma 在被意外中止（如意外关闭 oma 所在的终端串口）时正确退出
- 可以为 oma 引入 `doas` 及 `sudo` 作为鉴权回落选项，让用户在没有上述两个工具的情况下也无需特地加 `sudo` 运行 ~~（虽然 oma 作者表示自己根本不会这么用）~~

![](/assets/news/oma-1.23-auth.webp)

总之，既然都想到了，就实现吧！oma 1.23 包含上述两项改进，上图为在 SSH 环境下的鉴权效果。

其他特性
---

- 为 oma 的 TUI 界面新增使用 PgUp/PgDn 翻页的功能

问题修复
---

- 修复在 oma 电源状态警告提示符按 ^C (Ctrl-C) 可能导致程序崩溃的问题
- 修复无法校验使用 PGP v3 签名数据包格式 (Version 3 Signature Packet Format) 的软件源元数据的问题
- 修复 `loongarch_nosimd` 等在软件源配置模板中使用 `any`/`all` 作为支持架构列表的配置下，`oma` 错误警告架构支持不一致的问题